{% load static %}

<section class="py-5 bg-light" id="contactme">
	<div class="container">
		<h2 class="fw-bold">Un projet de création web ?</h2>
		<h4 class="fw-light">Allons en discuter autour d'un café</h4>
		<div class="row mt-5 gy-4 align-items-center">
			<div class="col-12 col-md-3 offset-md-1">
				<!-- <img class="w-100 shadow rounded-3" src="../public/assets/img/grab-a-coffee.jpg" alt="grab-a-coffee" width="100%"> -->
				<div
					class="cup mx-auto mb-4 mx-md-4 my-md-5"
					style="background: url({% static 'img/misc/coffee.png' %}); background-repeat: repeat-x; background-position: 0px 140px;}"
				>
					<div class="handle shadow"></div>
				</div>
			</div>
			<div class="col-12 col-md-6 offset-md-2">
				<form
					class="row gy-4"
					hx-post="{% url 'index' %}"
					hx-target="#response"
					hx-on::after-request="this.reset(); "
					id="contact-form"
					x-init="labels = document.querySelectorAll('label'); labels.forEach(label => label.classList.add('form-label'))"
                    _="on htmx:response 
                        call toastMixin.fire({animation: true, title: response['msg'], icon: 'success', width: 500,})
                    "
				>
					<div class="col-6">{{form.firstname.label_tag}} {{form.firstname}}</div>
					<div class="col-6">{{form.lastname.label_tag}} {{form.lastname}}</div>
					<div class="col-12">{{form.email.label_tag}} {{form.email}}</div>
					<div class="col-12">{{form.message.label_tag}} {{form.message}}</div>
					<div class="col-12">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" id="flexCheckDefault" required />
							<label class="form-check-label" for="flexCheckDefault">En cochant cette case, vous acceptez les CGU du site. </label>
						</div>
					</div>
					<div>
						<button class="d-flex justify-content-center btn btn-primary w-100" id="btn-submit">Envoyer</button>
					</div>
					<div id="response"></div>
				</form>
			</div>
		</div>
	</div>
</section>
